{# src/HPT/UsuarioBundle/Resources/views/Default/registro.html.twig #}
{% extends "BackendBundle::backend.html.twig" %}

{% block menu_items %}
    <li class="active"><a href="{{ path('backend_usuario_listar') }}">Usuarios</a></li>
    <li><a href="{{ path('backend_admin_listar') }}">Admins</a></li>
    <li><a href="{{ path('backend_sala') }}">Salas</a></li>
    <li><a href="{{ path('backend_servicio') }}">Servicios</a></li>
    <li><a href="{{ path('backend_noticias') }}">Noticias</a></li>
    <li><a href="{{ path('backend_trabajador') }}">Trabajadores</a></li>
{% endblock %}

    {% block contenido %}

        <form action={% block action %}"{{ path('backend_usuario_registro') }}" {% endblock %}
              method="post" {{ form_enctype(formulario) }} style="margin-bottom: 20px; margin-top: 20px; margin-left: 20px;">

            {#
                {{ form_widget(formulario) }}
                Mostrando el formulario que paso el controlador.
                form_widget muestra todos los campos del formulario ,
                junto con los posibles mensajes de error y el título de cada campo.

                La funcion form_enctype() de Twig determina si es necesario añadir el atributo
                enctype="multipart/form-data" porque el formulario incluye campos para subir archivos.
            #}

            <div class="alert-danger"><h2>{{ form_errors(formulario) }}</h2></div>

            <fieldset>
                <legend style="width: 15em;">Datos personales</legend>

                <div class="form-group" style="width: 15em;">
                    <span>
                        {{ form_widget(formulario.nombre, { 'attr': {
                        'accesskey' : 'n',
                        'tabindex' : 1,
                        'class' : "form-control",
                        'placeholder' : "Nombre"
                        } }) }}
                    </span>
                </div>
                <div class="form-group" style="width: 15em;">
                    <span>
                        {{ form_widget(formulario.apellidos, { 'attr': {
                        'tabindex' : 2,
                        'class' : "form-control",
                        'placeholder' : "Apellidos"
                        } }) }}
                    </span>
                </div>
                <div class="form-group" style="width: 15em;">
                    <span>
                        {{ form_widget(formulario.ci, { 'attr': {
                            'tabindex' : 3,
                            'class' : "form-control",
                            'placeholder' : "CI"
                        } }) }}
                    </span>
                </div>
                <div class="form-group" style="width: 15em;">
                    <span>
                        {{ form_widget(formulario.fechaNacimiento, { 'attr': {
                            'tabindex' : 4,
                            'class' : "form-control"
                        } }) }}
                    </span>
                </div>
                <div class="form-group" style="width: 15em;">
                    <span>
                        {{ form_widget(formulario.pais, { 'attr': {
                            'tabindex' : 5,
                            'class' : "form-control",
                            'placeholder' : "País"
                        } }) }}
                    </span>
                </div>
                <div class="form-group" style="width: 15em;">
                    <span>
                        {{ form_widget(formulario.direccion, { 'attr': {
                        'tabindex' : 6,
                        'class' : "form-control",
                        'placeholder' : "Dirección"
                        } }) }}
                    </span>
                </div>

            </fieldset>

            <fieldset>
                <legend style="width: 15em;">Datos de acceso</legend>

                <div class="form-group" style="width: 15em;">
                    <div class="error">{{ form_errors(formulario.email) }}</div>
                    <span>
                        {{ form_widget(formulario.email, { 'attr': {
                            'tabindex' : 7,
                            'class' : "form-control",
                            'placeholder' : "email"
                        } }) }}
                    </span>
                </div>

                <div class="form-group" style="width: 15em;">
                    <div class="error">{{ form_errors(formulario.password.first) }}</div>
                    <span>
                        {{ form_widget(formulario.password.first, { 'attr': {
                        'tabindex' : 8,
                        'class' : "form-control",
                        'placeholder' : "Contraseña" } }) }}
                    </span>
                </div>
                <div class="form-group" style="width: 15em;">
                    <span>
                        {{ form_widget(formulario.password.second, { 'attr': {
                        'tabindex' : 9,
                        'class' : "form-control",
                        'placeholder' : "Repetir Contraseña" } }) }}
                    </span>
                </div>
            </fieldset>

            {{ form_rest(formulario) }}

            <div class="row">
                    <input class="btn btn-default" type="submit"
                        value={% block value_boton %}"Registrar Usuario"{% endblock %} />
            </div>

        </form>

    {% endblock %}